(this.webpackJsonpchess=this.webpackJsonpchess||[]).push([[0],{19:function(e,t,i){},21:function(e,t,i){},27:function(e,t,i){"use strict";i.r(t);var s=i(0),r=i.n(s),h=i(3),c=i.n(h),o=(i(19),i(13)),a=i(8),l=i(9),n=i(14),d=i(12),u=i(1),g=function(e){Object(n.a)(i,e);var t=Object(d.a)(i);function i(){var e;Object(a.a)(this,i);for(var s=arguments.length,r=new Array(s),h=0;h<s;h++)r[h]=arguments[h];return(e=t.call.apply(t,[this].concat(r))).state={chessBoard:[],resetBoard:[],selectedChessPiece:null,chessPieces:{},blackGrave:[],whiteGrave:[],playerWhiteTurn:!0},e}return Object(l.a)(i,[{key:"componentDidMount",value:function(){this.initChessBoard(),this.initChessPieces()}},{key:"initChessBoard",value:function(){for(var e=[],t=0;t<8;t++){for(var i={},s=0;s<8;s++){i[t.toString()+s.toString()]={active:!1}}e.push(i)}this.setState({chessBoard:e,resetBoard:e})}},{key:"initChessPieces",value:function(){for(var e={},t=0;t<8;t++)for(var i=0;i<8;i++){var s=t.toString()+i.toString();if(0===t)switch(i){case 0:e[s]={type:"rook",rank:t,file:i,id:s,color:"black"};break;case 1:e[s]={type:"knight",rank:t,file:i,id:s,color:"black"};break;case 2:e[s]={type:"bishop",rank:t,file:i,id:s,color:"black"};break;case 3:e[s]={type:"queen",rank:t,file:i,id:s,color:"black"};break;case 4:e[s]={type:"king",rank:t,file:i,id:s,color:"black"};break;case 5:e[s]={type:"bishop",rank:t,file:i,id:s,color:"black"};break;case 6:e[s]={type:"knight",rank:t,file:i,id:s,color:"black"};break;case 7:e[s]={type:"rook",rank:t,file:i,id:s,color:"black"}}else if(1===t)e[s]={type:"pawn",rank:t,file:i,id:s,color:"black"};else if(6===t)e[s]={type:"pawn",rank:t,file:i,id:s,color:"white"};else if(7===t)switch(i){case 0:e[s]={type:"rook",rank:t,file:i,id:s,color:"white"};break;case 1:e[s]={type:"knight",rank:t,file:i,id:s,color:"white"};break;case 2:e[s]={type:"bishop",rank:t,file:i,id:s,color:"white"};break;case 3:e[s]={type:"queen",rank:t,file:i,id:s,color:"white"};break;case 4:e[s]={type:"king",rank:t,file:i,id:s,color:"white"};break;case 5:e[s]={type:"bishop",rank:t,file:i,id:s,color:"white"};break;case 6:e[s]={type:"knight",rank:t,file:i,id:s,color:"white"};break;case 7:e[s]={type:"rook",rank:t,file:i,id:s,color:"white"}}}this.setState({chessPieces:e})}},{key:"setSelectedChessPiece",value:function(e){("black"===e.color&&!this.state.playerWhiteTurn||"white"===e.color&&this.state.playerWhiteTurn)&&this.setState({selectedChessPiece:e})}},{key:"drawChessPiece",value:function(e,t,i){var s=this;if(e.rank===t&&e.file===i)return"knight"===e.type?"black"===e.color?Object(u.jsx)("button",{disabled:"black"===e.color&&!0===this.state.playerWhiteTurn,style:{width:"100%",height:"100%",backgroundColor:"transparent",border:"black"===e.color?"5px solid #888":"5px solid #eee"},onClick:function(){return s.setSelectedChessPiece(e)},children:Object(u.jsx)("h5",{children:"N"})},e):Object(u.jsx)("button",{disabled:"white"===e.color&&!0!==this.state.playerWhiteTurn,style:{width:"100%",height:"100%",backgroundColor:"transparent",border:"black"===e.color?"5px solid #888":"5px solid #eee"},onClick:function(){return s.setSelectedChessPiece(e)},children:Object(u.jsx)("h5",{children:"N"})},e):"black"===e.color?Object(u.jsx)("button",{disabled:"black"===e.color&&!0===this.state.playerWhiteTurn,style:{width:"100%",height:"100%",backgroundColor:"transparent",border:"black"===e.color?"5px solid #888":"5px solid #eee"},onClick:function(){return s.setSelectedChessPiece(e)},children:Object(u.jsx)("h5",{children:e.type[0].toUpperCase()})},e):Object(u.jsx)("button",{disabled:"white"===e.color&&!0!==this.state.playerWhiteTurn,style:{width:"100%",height:"100%",backgroundColor:"transparent",border:"black"===e.color?"5px solid #888":"5px solid #eee"},onClick:function(){return s.setSelectedChessPiece(e)},children:Object(u.jsx)("h5",{children:e.type[0].toUpperCase()})},e)}},{key:"highlightLTiles",value:function(e,t){if("black"===e.color&&!this.state.playerWhiteTurn||"white"===e.color&&this.state.playerWhiteTurn){var i=e.rank-1,s=e.rank+1,r=e.rank-2,h=e.rank+2,c=e.file+1,o=e.file-1,a=e.file+2,l=e.file-2,n=r.toString()+c.toString(),d=r.toString()+o.toString(),u=h.toString()+c.toString(),g=h.toString()+o.toString(),b=i.toString()+a.toString(),p=i.toString()+l.toString(),k=s.toString()+a.toString(),f=s.toString()+l.toString();r<8&&r>-1&&c<8&&c>-1&&(this.state.chessPieces[n]?this.state.chessPieces[n].color!==e.color&&(t[r][n].active=!0):t[r][n].active=!0),r<8&&r>-1&&o<8&&o>-1&&(this.state.chessPieces[d]?this.state.chessPieces[d].color!==e.color&&(t[r][d].active=!0):t[r][d].active=!0),h<8&&h>-1&&c<8&&c>-1&&(this.state.chessPieces[u]?this.state.chessPieces[u].color!==e.color&&(t[h][u].active=!0):t[h][u].active=!0),h<8&&h>-1&&o<8&&o>-1&&(this.state.chessPieces[g]?this.state.chessPieces[g].color!==e.color&&(t[h][g].active=!0):t[h][g].active=!0),i<8&&i>-1&&a<8&&a>-1&&(this.state.chessPieces[b]?this.state.chessPieces[b].color!==e.color&&(t[i][b].active=!0):t[i][b].active=!0),i<8&&i>-1&&l<8&&l>-1&&(this.state.chessPieces[p]?this.state.chessPieces[p].color!==e.color&&(t[i][p].active=!0):t[i][p].active=!0),s<8&&s>-1&&a<8&&a>-1&&(this.state.chessPieces[k]?this.state.chessPieces[k].color!==e.color&&(t[s][k].active=!0):t[s][k].active=!0),s<8&&s>-1&&l<8&&l>-1&&(this.state.chessPieces[f]?this.state.chessPieces[f].color!==e.color&&(t[s][f].active=!0):t[s][f].active=!0)}}},{key:"checkPawnKill",value:function(e,t){var i=e.rank,s=e.file-1,r=e.file+1;"white"===e.color?i-=1:i+=1;var h=i.toString()+s.toString(),c=i.toString()+r.toString();this.state.chessPieces[h]&&this.state.chessPieces[h].color!==e.color&&(t[i][h].active=!0),this.state.chessPieces[c]&&this.state.chessPieces[c].color!==e.color&&(t[i][c].active=!0)}},{key:"highlightTiles",value:function(e,t,i,s){if("black"===e.color&&!this.state.playerWhiteTurn||"white"===e.color&&this.state.playerWhiteTurn)for(var r=!1,h=0,c=e.rank,o=e.file;;){"North"===s?c-=1:"East"===s?o+=1:"South"===s?c+=1:"West"===s?o-=1:"North East"===s?(c-=1,o+=1):"South East"===s?(c+=1,o+=1):"North West"===s?(c-=1,o-=1):"South West"===s&&(c+=1,o-=1);var a=c.toString()+o.toString();if(-1===c||8===c||-1===o||8===o||h===i)break;if(this.state.chessPieces[a]&&this.state.chessPieces[a].rank===c&&this.state.chessPieces[a].file===o){!1===r&&this.state.chessPieces[a].color!==e.color&&"pawn"!==e.type&&(t[c][a].active=!0,r=!0);break}t[c][a].active=!0,h+=1}}},{key:"resetBoard",value:function(){for(var e=this.state.chessBoard,t=0;t<8;t++)for(var i=0;i<8;i++){var s=t.toString()+i.toString();e[t][s].active=!1}this.setState({chessBoard:e})}},{key:"drawChessBoard",value:function(e,t){var i=e.toString()+t.toString(),s=this.state.chessBoard;if(!0===s[e][i].active){this.setState({playerWhiteTurn:!this.state.playerWhiteTurn});var r=this.state.selectedChessPiece.id,h=Object(o.a)({},this.state.chessPieces);h[this.state.selectedChessPiece.id].rank=e,h[this.state.selectedChessPiece.id].file=t,h[i]&&("black"===h[i].color?this.state.blackGrave.push(h[i]):this.state.whiteGrave.push(h[i])),h[i]=this.state.selectedChessPiece,h[i].id=i,delete h[r],this.setState({selectedChessPiece:null,chessPieces:h}),this.resetBoard()}else{var c=this.state.chessPieces[i];this.resetBoard(),void 0!==c&&("pawn"===c.type&&"white"===c.color?(6===e?this.highlightTiles(c,s,2,"North"):this.highlightTiles(c,s,1,"North"),this.checkPawnKill(c,s)):"pawn"===c.type&&"black"===c.color?(1===e?this.highlightTiles(c,s,2,"South"):this.highlightTiles(c,s,1,"South"),this.checkPawnKill(c,s)):"rook"===c.type?(this.highlightTiles(c,s,1/0,"North"),this.highlightTiles(c,s,1/0,"East"),this.highlightTiles(c,s,1/0,"South"),this.highlightTiles(c,s,1/0,"West")):"knight"===c.type?this.highlightLTiles(c,s):"bishop"===c.type?(this.highlightTiles(c,s,1/0,"North East"),this.highlightTiles(c,s,1/0,"North West"),this.highlightTiles(c,s,1/0,"South East"),this.highlightTiles(c,s,1/0,"South West")):"queen"===c.type?(this.highlightTiles(c,s,1/0,"North"),this.highlightTiles(c,s,1/0,"East"),this.highlightTiles(c,s,1/0,"South"),this.highlightTiles(c,s,1/0,"West"),this.highlightTiles(c,s,1/0,"North East"),this.highlightTiles(c,s,1/0,"North West"),this.highlightTiles(c,s,1/0,"South East"),this.highlightTiles(c,s,1/0,"South West")):(this.highlightTiles(c,s,1,"North"),this.highlightTiles(c,s,1,"East"),this.highlightTiles(c,s,1,"South"),this.highlightTiles(c,s,1,"West"),this.highlightTiles(c,s,1,"North East"),this.highlightTiles(c,s,1,"North West"),this.highlightTiles(c,s,1,"South East"),this.highlightTiles(c,s,1,"South West")),this.setState({chessBoard:s}))}}},{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{style:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column"},children:[Object(u.jsxs)("div",{style:{display:"flex",margin:"0 auto 0 auto",width:"900px"},children:[Object(u.jsx)("div",{style:{width:"4em",height:"4em",border:"1px solid white"},children:Object(u.jsx)("button",{style:{width:"100%",height:"100%",backgroundColor:"transparent",border:"5px solid #888"},children:Object(u.jsx)("p",{children:"+"})})}),this.state.blackGrave.map((function(e,t){return Object(u.jsx)("div",{style:{width:"4em",height:"4em",border:"1px solid white"},children:Object(u.jsx)("button",{style:{width:"100%",height:"100%",backgroundColor:"transparent",border:"black"===e.color?"5px solid #888":"5px solid #eee"},children:Object(u.jsx)("p",{children:e.type[0].toUpperCase()})},t)},t)}))]}),Object(u.jsx)("div",{style:{margin:"auto",boxShadow:"0 0 30px 10px #eee"},children:this.state.chessBoard.map((function(t,i){return Object(u.jsx)("div",{style:{display:"flex"},children:Object.values(t).map((function(t,s){return Object(u.jsx)("div",{onClick:function(){e.drawChessBoard(i,s)},style:{width:"4em",height:"4em",border:"1px solid #ccc",backgroundColor:e.state.chessBoard[i][i.toString()+s.toString()].active?"#ddd":"white"},children:Object.values(e.state.chessPieces).map((function(t){return e.drawChessPiece(t,i,s)}))},s)}))},i)}))}),Object(u.jsxs)("div",{style:{display:"flex",margin:"0 auto 0 auto",width:"900px"},children:[Object(u.jsx)("div",{style:{width:"4em",height:"4em",border:"1px solid white"},children:Object(u.jsx)("button",{style:{width:"100%",height:"100%",backgroundColor:"transparent",border:"5px solid #eee"},children:Object(u.jsx)("p",{children:"+"})})}),this.state.whiteGrave.map((function(e,t){return Object(u.jsx)("div",{style:{width:"4em",height:"4em",border:"1px solid white"},children:Object(u.jsx)("button",{style:{width:"100%",height:"100%",backgroundColor:"transparent",border:"black"===e.color?"5px solid #888":"5px solid #eee"},children:Object(u.jsx)("p",{children:e.type[0].toUpperCase()})},t)},t)}))]})]})}}]),i}(r.a.Component);function b(){return Object(u.jsx)("div",{children:Object(u.jsx)(g,{})})}i(21);var p=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(b,{})})},k=i(2),f=i(6),v=i.n(f),y=i(10);function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(t){return setTimeout((function(){return t({data:e})}),500)}))}var w=Object(k.b)("counter/fetchCount",function(){var e=Object(y.a)(v.a.mark((function e(t){var i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t);case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),x=Object(k.c)({name:"counter",initialState:{value:0,status:"idle"},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}},extraReducers:function(e){e.addCase(w.pending,(function(e){e.status="loading"})).addCase(w.fulfilled,(function(e,t){e.status="idle",e.value+=t.payload}))}}),S=x.actions,P=(S.increment,S.decrement,S.incrementByAmount,x.reducer),T=Object(k.a)({reducer:{counter:P}}),O=i(11);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(O.a,{store:T,children:Object(u.jsx)(p,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.fd7295de.chunk.js.map